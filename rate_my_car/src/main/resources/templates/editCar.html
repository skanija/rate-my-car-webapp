<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>Rate My Car</title>
        <link rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" />
    </head>
    <body class="p-3">

        <div class="row">
            <div class="col">
                <h1 class="text-primary">Edit Post</h1>
            </div>
            <div class="col">
                <a th:href="@{/cars}">cars</a>
            </div>
            <div class="col">
                <a th:href="@{/logout}">logout</a>
            </div>
        </div>

        <form th:action="@{/cars/edit}" th:object="${car}" method="post" enctype="multipart/form-data">

            <input type="hidden" th:field="*{id}" />

            <div class="form-group">
                <label for="carMake">Make:</label>
                <input
                    type="text"
                    th:field="*{carMake}"
                    id="carMake"
                    class="form-control"
                />
                <div
                    th:if="${#fields.hasErrors('carMake')} and ${submitted}"
                    th:errors="*{carMake}"
                    class="text-danger"
                ></div>
            </div>

            <div class="form-group">
                <label for="carModel">Model:</label>
                <input
                    type="text"
                    th:field="*{carModel}"
                    id="carModel"
                    class="form-control"
                />
                <div
                    th:if="${#fields.hasErrors('carModel')} and ${submitted}"
                    th:errors="*{carModel}"
                    class="text-danger"
                ></div>
            </div>

            <div class="form-group">
                <label for="releaseYear">Release Year:</label>
                <input
                    type="number"
                    th:field="*{releaseYear}"
                    value="*{releaseYear}"
                    min="1886"
                    max="2025"
                    id="releaseYear"
                    class="form-control"
                />
                <div
                    th:if="${#fields.hasErrors('releaseYear')} and ${submitted}"
                    th:errors="*{releaseYear}"
                    class="text-danger"
                ></div>
            </div>

            <div class="form-group">
                <label for="image">Image Upload:</label>
                <input
                    type="file"
                    th:field="*{image}"
                    id="image"
                    class="form-control-file"
                />
                <div
                    th:if="${#fields.hasErrors('image')} and ${submitted}"
                    th:errors="*{image}"
                    class="text-danger"
                ></div>
            </div>

            <input type="submit" value="Submit" class="btn btn-primary"/>
        </form>
    </body>
    <script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
</html>